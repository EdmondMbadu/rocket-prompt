<!-- SHARE PROMPT MODAL -->
<div *ngIf="isOpen()" class="modal-overlay" (click)="onClose()">
  <div class="modal-card w-full max-w-sm sm:w-96" (click)="stopPropagation($event)">
    <button type="button" class="modal-close" aria-label="Close" (click)="onClose()">
      <svg aria-hidden="true" viewBox="0 0 24 24" class="h-3 w-3 sm:h-4 sm:w-4">
        <path d="M18 6 6 18M6 6l12 12" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round"
          stroke-linejoin="round" />
      </svg>
    </button>

    <header class="pr-6 sm:pr-8">
      <p class="text-xs font-semibold uppercase tracking-[0.2em] text-[#DC2626] sm:text-sm">Share</p>
      <h2 class="mt-1.5 text-lg font-semibold text-slate-900 sm:mt-2 sm:text-2xl">Share prompt</h2>
      <p class="mt-1 text-xs text-slate-500 sm:text-sm">Open this prompt in a chatbot or copy its URL.</p>
    </header>

    <div class="mt-4 space-y-3 sm:mt-6 sm:space-y-4">
      <div *ngIf="prompt()" class="text-xs text-slate-700 sm:text-sm">
        <div class="font-semibold">{{ prompt()?.title }}</div>
        <div class="mt-1.5 text-[10px] text-slate-500 sm:mt-2 sm:text-xs">{{ prompt()?.preview || (prompt()?.content | slice:0:150) + '...' }}</div>
      </div>

      <div class="flex flex-col gap-2 sm:gap-3">
        <div class="text-[10px] font-semibold uppercase tracking-wider text-slate-500 sm:text-xs">âš¡ One Shot</div>
        <div class="grid grid-cols-3 gap-2">
          <button type="button"
            class="group relative flex flex-col items-center justify-center gap-1 rounded-lg bg-gradient-to-br from-slate-50 to-slate-100 border border-slate-200/60 px-2 py-2.5 transition-all duration-200 hover:border-slate-300 hover:shadow-md hover:scale-[1.02] active:scale-[0.98]"
            (click)="onCopyOneClickLink('gpt')" title="Copy One Shot GPT link">
            <img src="/assets/gpt.png" alt="GPT" class="h-5 w-5 object-contain sm:h-6 sm:w-6" />
            <span class="text-[10px] font-semibold text-slate-700 sm:text-xs">GPT</span>
          </button>
          <button type="button"
            class="group relative flex flex-col items-center justify-center gap-1 rounded-lg bg-gradient-to-br from-slate-50 to-slate-100 border border-slate-200/60 px-2 py-2.5 transition-all duration-200 hover:border-slate-300 hover:shadow-md hover:scale-[1.02] active:scale-[0.98]"
            (click)="onCopyOneClickLink('grok')" title="Copy One Shot Grok link">
            <img src="/assets/grok.jpg" alt="Grok" class="h-5 w-5 rounded object-contain sm:h-6 sm:w-6" />
            <span class="text-[10px] font-semibold text-slate-700 sm:text-xs">Grok</span>
          </button>
          <button type="button"
            class="group relative flex flex-col items-center justify-center gap-1 rounded-lg bg-gradient-to-br from-slate-50 to-slate-100 border border-slate-200/60 px-2 py-2.5 transition-all duration-200 hover:border-slate-300 hover:shadow-md hover:scale-[1.02] active:scale-[0.98]"
            (click)="onCopyOneClickLink('claude')" title="Copy One Shot Claude link">
            <img src="/assets/claude.jpeg" alt="Claude" class="h-5 w-5 rounded object-contain sm:h-6 sm:w-6" />
            <span class="text-[10px] font-semibold text-slate-700 sm:text-xs">Claude</span>
          </button>
        </div>

        <button type="button"
          class="inline-flex items-center justify-center rounded-xl bg-green-600 px-3 py-2 text-xs font-semibold text-white shadow-sm hover:bg-green-700 sm:px-4 sm:text-sm"
          (click)="onOpenChatbot('ChatGPT')">
          Open in ChatGPT
        </button>

        <button type="button"
          class="inline-flex items-center justify-center rounded-xl bg-blue-600 px-3 py-2 text-xs font-semibold text-white shadow-sm hover:bg-blue-700 sm:px-4 sm:text-sm"
          (click)="onOpenChatbot('Gemini')">
          Open in Gemini
        </button>

        <button type="button"
          class="inline-flex items-center justify-center rounded-xl bg-orange-600 px-3 py-2 text-xs font-semibold text-white shadow-sm hover:bg-orange-700 sm:px-4 sm:text-sm"
          (click)="onOpenChatbot('Claude')">
          Open in Claude
        </button>

        <button type="button"
          class="inline-flex items-center justify-center rounded-xl bg-black px-3 py-2 text-xs font-semibold text-white shadow-sm hover:bg-gray-800 sm:px-4 sm:text-sm"
          (click)="onOpenChatbot('Grok')">
          Open in Grok
        </button>

        <button type="button"
          class="inline-flex items-center justify-center rounded-xl border border-slate-300 px-3 py-2 text-xs font-semibold text-slate-700 hover:bg-slate-50 hover:border-slate-400 sm:px-4 sm:text-sm"
          (click)="onCopyPromptUrl()">
          Copy prompt URL
        </button>
      </div>
    </div>
  </div>
</div>

